let url,akun=$("#akun").DataTable({responsive:!0,scrollX:!0,ajax:readUrl,columnDefs:[{searcable:!1,orderable:!1,targets:0}],order:[[1,"asc"]],columns:[{data:null},{data:"kode_akun"},{data:"nama_akun"},{data:"header_akun"},{data:"posisi_d_c"},{data:"action"}]});function reloadTable(){akun.ajax.reload()}function addData(){$.ajax({url:addUrl,type:"post",dataType:"json",data:$("#form").serialize(),success:()=>{$(".modal").modal("hide"),Swal.fire("Sukses","Sukses Menambahkan Data","success"),reloadTable()},error:a=>{console.log(a)}})}function remove(a){Swal.fire({title:"Hapus",text:"Hapus data ini?",type:"warning",showCancelButton:!0}).then(()=>{$.ajax({url:deleteUrl,type:"post",dataType:"json",data:{id:a},success:a=>{Swal.fire("Sukses","Sukses Menghapus Data","success"),reloadTable()},error:a=>{console.log(a)}})})}function editData(){$.ajax({url:editUrl,type:"post",dataType:"json",data:$("#form").serialize(),success:()=>{$(".modal").modal("hide"),Swal.fire("Sukses","Sukses Mengedit Data","success"),reloadTable()},error:a=>{console.log(a)}})}function add(){url="add",$(".modal-title").html("Add Data"),$('.modal button[type="submit"]').html("Add")}function edit(a){$.ajax({url:get_akunUrl,type:"post",dataType:"json",data:{id:a},success:a=>{$('[name="id"]').val(a.id),$('[name="kode_akun"]').val(a.kode_akun),$('[name="nama_akun"]').val(a.nama_akun),$('[name="header_akun"]').val(a.header_akun),$('[name="posisi_d_c"]').val(a.posisi_d_c),$(".modal").modal("show"),$(".modal-title").html("Edit Data"),$('.modal button[type="submit"]').html("Edit"),url="edit"},error:a=>{console.log(a)}})}akun.on("order.dt search.dt",()=>{akun.column(0,{search:"applied",order:"applied"}).nodes().each((a,e)=>{a.innerHTML=e+1})}),$("#form").validate({errorElement:"span",errorPlacement:(a,e)=>{a.addClass("invalid-feedback"),e.closest(".form-group").append(a)},submitHandler:()=>{"edit"==url?editData():addData()}}),$(".modal").on("hidden.bs.modal",()=>{$("#form")[0].reset(),$("#form").validate().resetForm()});